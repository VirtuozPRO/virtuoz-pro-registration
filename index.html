<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | VIRTUOZ PRO</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial; padding: 20px; background: #f5f7fa; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .step { display: none; padding: 20px; border: 1px solid #ddd; border-radius: 5px; margin: 20px 0; }
        .active { display: block; }
        input, select, textarea { 
            width: 100%; 
            padding: 12px; 
            margin: 8px 0; 
            border: 1px solid #ddd; 
            border-radius: 4px;
            font-size: 16px;
        }
        select[multiple] { height: 150px; }
        button { 
            padding: 12px 24px; 
            background: #3f51b5; 
            color: white; 
            border: none; 
            border-radius: 4px;
            cursor: pointer; 
            margin: 5px;
            font-size: 16px;
            font-weight: bold;
        }
        button:hover { background: #303f9f; }
        #submitBtn { background: #4CAF50; }
        #submitBtn:hover { background: #388E3C; }
        #prevBtn { background: #757575; }
        #prevBtn:hover { background: #616161; }
        .progress { 
            display: flex; 
            justify-content: space-between; 
            margin: 20px 0; 
            position: relative;
        }
        .progress:before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 3px;
            background: #ddd;
            z-index: 1;
        }
        .progress-step { 
            width: 40px; 
            height: 40px; 
            border-radius: 50%; 
            background: #ddd; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            position: relative;
            z-index: 2;
            font-weight: bold;
        }
        .progress-step.active { 
            background: #3f51b5; 
            color: white;
            transform: scale(1.1);
        }
        .error { border-color: #f44336 !important; background: #ffebee; }
        .success { border-color: #4CAF50 !important; background: #e8f5e8; }
        .error-message { color: #f44336; font-size: 14px; margin-top: -5px; margin-bottom: 10px; display: none; }
        .success-message { color: #4CAF50; font-size: 14px; margin-top: -5px; margin-bottom: 10px; display: none; }
        .required:after { content: ' *'; color: #f44336; }
        label { display: block; margin: 10px 0 5px; font-weight: bold; }
        h1 { color: #3f51b5; margin-bottom: 20px; text-align: center; }
        h2 { color: #3f51b5; margin-bottom: 15px; border-bottom: 2px solid #3f51b5; padding-bottom: 10px; }
        #result { 
            margin-top: 20px; 
            padding: 15px; 
            border-radius: 5px; 
            display: none;
            font-weight: bold;
        }
        .result-success { background: #e8f5e8; color: #2e7d32; border: 1px solid #c8e6c9; }
        .result-error { background: #ffebee; color: #c62828; border: 1px solid #ffcdd2; }
        .form-hint { color: #666; font-size: 14px; margin-top: 5px; font-style: italic; }
        .logo { text-align: center; margin-bottom: 20px; }
        .logo h1 { margin-bottom: 5px; }
        .logo p { color: #666; font-size: 14px; }
        .checkbox-group { margin: 15px 0; }
        .checkbox-group label { font-weight: normal; display: flex; align-items: flex-start; }
        .checkbox-group input[type="checkbox"] { margin-right: 10px; margin-top: 3px; }
        .dynamic-section { 
            display: none; 
            margin-top: 15px; 
            padding: 15px; 
            background: #f9f9f9; 
            border-radius: 5px; 
            border-left: 4px solid #3f51b5;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <h1>üìã –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
            <p>VIRTUOZ PRO</p>
        </div>
        
        <div class="progress">
            <div class="progress-step active">1</div>
            <div class="progress-step">2</div>
            <div class="progress-step">3</div>
            <div class="progress-step">4</div>
            <div class="progress-step">5</div>
        </div>
        
        <!-- –®–∞–≥ 1 -->
        <div class="step active" id="step1">
            <h2>–®–∞–≥ 1: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
            
            <label for="legalForm" class="required">–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤–∞—è —Ñ–æ—Ä–º–∞</label>
            <select id="legalForm" required onchange="updateCompanyPrefix(); updateCompanyPlaceholder()">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º—É</option>
                <option value="ooo">–û–û–û (–û–±—â–µ—Å—Ç–≤–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é)</option>
                <option value="ip">–ò–ü (–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å)</option>
                <option value="zao">–ó–ê–û (–ó–∞–∫—Ä—ã—Ç–æ–µ –∞–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ)</option>
                <option value="ao">–ê–û (–ê–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ)</option>
            </select>
            <div class="error-message" id="legalFormError">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤—É—é —Ñ–æ—Ä–º—É</div>
            
            <label for="company" class="required" id="companyLabel">–ü–æ–ª–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</label>
            <input type="text" id="company" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ" required>
            <div class="error-message" id="companyError">–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</div>
            <div class="success-message" id="companySuccess">‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ</div>
            <div class="form-hint" id="companyHint">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤—É—é —Ñ–æ—Ä–º—É –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</div>
            
            <label for="userType" class="required">–¢–∏–ø —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</label>
            <select id="userType" required onchange="toggleUserTypeFields()">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —É—á–∞—Å—Ç–Ω–∏–∫–∞</option>
                <option value="manufacturer">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å</option>
                <option value="supplier">–ü–æ—Å—Ç–∞–≤—â–∏–∫</option>
                <option value="seller">–ü—Ä–æ–¥–∞–≤–µ—Ü</option>
                <option value="buyer">–ü–æ–∫—É–ø–∞—Ç–µ–ª—å</option>
                <option value="contractor">–ü–æ–¥—Ä—è–¥—á–∏–∫</option>
            </select>
            <div class="error-message" id="userTypeError">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</div>
            <div class="success-message" id="userTypeSuccess">‚úì –í—ã–±—Ä–∞–Ω–æ</div>
        </div>
        
        <!-- –®–∞–≥ 2 -->
        <div class="step" id="step2">
            <h2>–®–∞–≥ 2: –†–µ–∫–≤–∏–∑–∏—Ç—ã</h2>
            
            <label for="inn" class="required">–ò–ù–ù</label>
            <input type="text" id="inn" placeholder="10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä" required>
            <div class="error-message" id="innError">–ò–ù–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä</div>
            <div class="success-message" id="innSuccess">‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ò–ù–ù</div>
            
            <label for="ogrn" class="required">–û–ì–†–ù/–û–ì–†–ù–ò–ü</label>
            <input type="text" id="ogrn" placeholder="13 –∏–ª–∏ 15 —Ü–∏—Ñ—Ä" required>
            <div class="error-message" id="ogrnError">–û–ì–†–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 13 –∏–ª–∏ 15 —Ü–∏—Ñ—Ä</div>
            <div class="success-message" id="ogrnSuccess">‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –û–ì–†–ù</div>
            
            <label for="kpp">–ö–ü–ü (–¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü)</label>
            <input type="text" id="kpp" placeholder="9 —Ü–∏—Ñ—Ä">
            <div class="error-message" id="kppError">–ö–ü–ü –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 9 —Ü–∏—Ñ—Ä</div>
            <div class="success-message" id="kppSuccess">‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ö–ü–ü</div>
            
            <label for="address" class="required">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å</label>
            <textarea id="address" placeholder="–ü–æ–ª–Ω—ã–π —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å —Å–æ–≥–ª–∞—Å–Ω–æ –ï–ì–†–Æ–õ/–ï–ì–†–ò–ü" rows="3" required></textarea>
            <div class="error-message" id="addressError">–í–≤–µ–¥–∏—Ç–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å</div>
            <div class="success-message" id="addressSuccess">‚úì –ê–¥—Ä–µ—Å –∑–∞–ø–æ–ª–Ω–µ–Ω</div>
        </div>
        
        <!-- –®–∞–≥ 3 -->
        <div class="step" id="step3">
            <h2>–®–∞–≥ 3: –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ</h2>
            
            <label for="contactName" class="required">–§–ò–û</label>
            <input type="text" id="contactName" placeholder="–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ" required>
            <div class="error-message" id="contactNameError">–í–≤–µ–¥–∏—Ç–µ –§–ò–û –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞</div>
            <div class="success-message" id="contactNameSuccess">‚úì –§–ò–û –∑–∞–ø–æ–ª–Ω–µ–Ω–æ</div>
            
            <label for="position" class="required">–î–æ–ª–∂–Ω–æ—Å—Ç—å</label>
            <input type="text" id="position" placeholder="–î–æ–ª–∂–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞" required>
            <div class="error-message" id="positionError">–í–≤–µ–¥–∏—Ç–µ –¥–æ–ª–∂–Ω–æ—Å—Ç—å</div>
            <div class="success-message" id="positionSuccess">‚úì –î–æ–ª–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞–Ω–∞</div>
            
            <label for="phone" class="required">–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input type="tel" id="phone" placeholder="+7 (___) ___-__-__" required>
            <div class="error-message" id="phoneError">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</div>
            <div class="success-message" id="phoneSuccess">‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä</div>
            
            <label for="email" class="required">E-mail</label>
            <input type="email" id="email" placeholder="email@example.com" required>
            <div class="error-message" id="emailError">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å</div>
            <div class="success-message" id="emailSuccess">‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email</div>
        </div>
        
        <!-- –®–∞–≥ 4 -->
        <div class="step" id="step4">
            <h2>–®–∞–≥ 4: –ü—Ä–æ—Ñ–∏–ª—å –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>
            
            <label for="industrySector" class="required">–û—Ç—Ä–∞—Å–ª–µ–≤–æ–π —Å–µ–∫—Ç–æ—Ä</label>
            <select id="industrySector" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç—Ä–∞—Å–ª–µ–≤–æ–π —Å–µ–∫—Ç–æ—Ä</option>
                <option value="construction">–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
                <option value="industrial">–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å</option>
                <option value="trade">–¢–æ—Ä–≥–æ–≤–ª—è</option>
                <option value="services">–£—Å–ª—É–≥–∏</option>
                <option value="logistics">–õ–æ–≥–∏—Å—Ç–∏–∫–∞ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                <option value="other">–î—Ä—É–≥–æ–µ</option>
            </select>
            <div class="error-message" id="industrySectorError">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç—Ä–∞—Å–ª–µ–≤–æ–π —Å–µ–∫—Ç–æ—Ä</div>
            <div class="success-message" id="industrySectorSuccess">‚úì –°–µ–∫—Ç–æ—Ä –≤—ã–±—Ä–∞–Ω</div>
            
            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–µ–∫—Ü–∏–∏ -->
            <div id="manufacturerSection" class="dynamic-section">
                <h3 style="color: #3f51b5; margin-top: 0;">–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å</h3>
                <label for="productionType">–¢–∏–ø –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</label>
                <select id="productionType">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</option>
                    <option value="building_materials">–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</option>
                    <option value="metal_products">–ú–µ—Ç–∞–ª–ª–æ–∏–∑–¥–µ–ª–∏—è –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</option>
                    <option value="wood_products">–î–µ—Ä–µ–≤–æ–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å—Ç–æ–ª—è—Ä–∫–∞</option>
                </select>
            </div>
            
            <div id="supplierSection" class="dynamic-section">
                <h3 style="color: #3f51b5; margin-top: 0;">–ü—Ä–æ—Ñ–∏–ª—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ —É—Å–ª—É–≥</h3>
                <label for="serviceCategory">–ö–∞—Ç–µ–≥–æ—Ä–∏—è —É—Å–ª—É–≥</label>
                <select id="serviceCategory">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —É—Å–ª—É–≥</option>
                    <option value="logistics">–õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏</option>
                    <option value="storage">–°–∫–ª–∞–¥—Å–∫–∏–µ —É—Å–ª—É–≥–∏</option>
                </select>
            </div>
            
            <div id="sellerSection" class="dynamic-section">
                <h3 style="color: #3f51b5; margin-top: 0;">–¢–æ—Ä–≥–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å</h3>
                <label for="tradeType">–¢–∏–ø —Ç–æ—Ä–≥–æ–≤–ª–∏</label>
                <select id="tradeType">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–æ—Ä–≥–æ–≤–ª–∏</option>
                    <option value="wholesale">–û–ø—Ç–æ–≤–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è</option>
                    <option value="retail">–†–æ–∑–Ω–∏—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è</option>
                </select>
            </div>
            
            <div id="buyerSection" class="dynamic-section">
                <h3 style="color: #3f51b5; margin-top: 0;">–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è</h3>
                <label for="purchaseType">–¢–∏–ø –∑–∞–∫—É–ø–æ–∫</label>
                <select id="purchaseType">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∑–∞–∫—É–ø–æ–∫</option>
                    <option value="regular">–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–∫—É–ø–∫–∏</option>
                    <option value="project">–ü—Ä–æ–µ–∫—Ç–Ω—ã–µ –∑–∞–∫—É–ø–∫–∏</option>
                </select>
            </div>
            
            <div id="contractorSection" class="dynamic-section">
                <h3 style="color: #3f51b5; margin-top: 0;">–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å</h3>
                <label for="constructionType">–¢–∏–ø —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</label>
                <select id="constructionType">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</option>
                    <option value="general_contractor">–ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –ø–æ–¥—Ä—è–¥—á–∏–∫</option>
                    <option value="subcontractor">–°—É–±–ø–æ–¥—Ä—è–¥—á–∏–∫</option>
                </select>
            </div>
            
            <label for="annualTurnover" class="required">–ü—Ä–∏–º–µ—Ä–Ω—ã–π –≥–æ–¥–æ–≤–æ–π –æ–±–æ—Ä–æ—Ç (—Ä—É–±.)</label>
            <select id="annualTurnover" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±–æ—Ä–æ—Ç</option>
                <option value="under_10m">–î–æ 10 –º–ª–Ω ‚ÇΩ</option>
                <option value="10_50m">10-50 –º–ª–Ω ‚ÇΩ</option>
                <option value="50_100m">50-100 –º–ª–Ω ‚ÇΩ</option>
                <option value="100_500m">100-500 –º–ª–Ω ‚ÇΩ</option>
                <option value="500m_1b">500 –º–ª–Ω - 1 –º–ª—Ä–¥ ‚ÇΩ</option>
                <option value="over_1b">–°–≤—ã—à–µ 1 –º–ª—Ä–¥ ‚ÇΩ</option>
            </select>
            <div class="error-message" id="annualTurnoverError">–£–∫–∞–∂–∏—Ç–µ –≥–æ–¥–æ–≤–æ–π –æ–±–æ—Ä–æ—Ç</div>
            <div class="success-message" id="annualTurnoverSuccess">‚úì –û–±–æ—Ä–æ—Ç —É–∫–∞–∑–∞–Ω</div>
            
            <label for="employees" class="required">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</label>
            <select id="employees" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ</option>
                <option value="1_10">1-10 —á–µ–ª–æ–≤–µ–∫</option>
                <option value="11_50">11-50 —á–µ–ª–æ–≤–µ–∫</option>
                <option value="51_100">51-100 —á–µ–ª–æ–≤–µ–∫</option>
                <option value="101_250">101-250 —á–µ–ª–æ–≤–µ–∫</option>
                <option value="251_500">251-500 —á–µ–ª–æ–≤–µ–∫</option>
                <option value="over_500">–ë–æ–ª–µ–µ 500 —á–µ–ª–æ–≤–µ–∫</option>
            </select>
            <div class="error-message" id="employeesError">–£–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</div>
            <div class="success-message" id="employeesSuccess">‚úì –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∫–∞–∑–∞–Ω–æ</div>
        </div>
        
        <!-- –®–∞–≥ 5 -->
        <div class="step" id="step5">
            <h2>–®–∞–≥ 5: –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è</h2>
            
            <label for="bank" class="required">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞</label>
            <input type="text" id="bank" placeholder="–ü–æ–ª–Ω–æ–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞" required>
            <div class="error-message" id="bankError">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞</div>
            <div class="success-message" id="bankSuccess">‚úì –ë–∞–Ω–∫ —É–∫–∞–∑–∞–Ω</div>
            
            <label for="bik" class="required">–ë–ò–ö –±–∞–Ω–∫–∞</label>
            <input type="text" id="bik" placeholder="9 —Ü–∏—Ñ—Ä" required>
            <div class="error-message" id="bikError">–ë–ò–ö –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 9 —Ü–∏—Ñ—Ä</div>
            <div class="success-message" id="bikSuccess">‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ë–ò–ö</div>
            
            <label for="account" class="required">–†–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç</label>
            <input type="text" id="account" placeholder="20 —Ü–∏—Ñ—Ä" required>
            <div class="error-message" id="accountError">–†–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 20 —Ü–∏—Ñ—Ä</div>
            <div class="success-message" id="accountSuccess">‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç</div>
            
            <div style="background: #f8f9fa; padding: 20px; border-radius: 5px; margin: 20px 0;">
                <h3>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è</h3>
                
                <div style="margin: 15px 0;">
                    <input type="checkbox" id="agree1" required>
                    <label for="agree1" style="display: inline; font-weight: normal;">
                        <strong>–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</strong><br>
                        <span style="font-size: 14px; color: #666;">
                            –Ø –¥–∞—é —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –º–æ–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–º –∑–∞–∫–æ–Ω–æ–º ‚Ññ 152-–§–ó 
                            "–û –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö" –¥–ª—è —Ü–µ–ª–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.
                        </span>
                    </label>
                </div>
                
                <div style="margin: 15px 0;">
                    <input type="checkbox" id="agree2" required>
                    <label for="agree2" style="display: inline; font-weight: normal;">
                        <strong>–°–æ–≥–ª–∞—Å–∏–µ —Å —É—Å–ª–æ–≤–∏—è–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞</strong><br>
                        <span style="font-size: 14px; color: #666;">
                            –Ø –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π, –ø—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è 
                            –∏ —Å–æ–≥–ª–∞—à–∞—é—Å—å —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã VIRTUOZ PRO.
                        </span>
                    </label>
                </div>
                
                <div class="error-message" id="agreeError">–ü—Ä–∏–º–∏—Ç–µ –≤—Å–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è</div>
                <div class="success-message" id="agreeSuccess">‚úì –°–æ–≥–ª–∞—à–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç—ã</div>
            </div>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
        <div style="text-align: center; margin-top: 30px;">
            <button onclick="prevStep()" id="prevBtn" style="display:none;">‚Üê –ù–∞–∑–∞–¥</button>
            <button onclick="nextStep()" id="nextBtn">–î–∞–ª–µ–µ ‚Üí</button>
            <button onclick="submitForm()" id="submitBtn" style="display:none; background: #4CAF50;">‚úì –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é</button>
        </div>
        
        <div id="result"></div>
    </div>

    <script>
        // =================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ===================
        let currentStep = 1;
        const totalSteps = 5;
        
        // =================== –§–£–ù–ö–¶–ò–ò –§–û–†–ú–´ ===================
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            initPhoneMask();
            initInputMasks();
            updateProgress();
            setupRealTimeValidation();
        });
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function toggleUserTypeFields() {
            const userType = document.getElementById('userType').value;
            document.querySelectorAll('.dynamic-section').forEach(section => {
                section.style.display = 'none';
            });
            if (userType === 'manufacturer') {
                document.getElementById('manufacturerSection').style.display = 'block';
            } else if (userType === 'supplier') {
                document.getElementById('supplierSection').style.display = 'block';
            } else if (userType === 'seller') {
                document.getElementById('sellerSection').style.display = 'block';
            } else if (userType === 'buyer') {
                document.getElementById('buyerSection').style.display = 'block';
            } else if (userType === 'contractor') {
                document.getElementById('contractorSection').style.display = 'block';
            }
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        function generateRegistrationID() {
            const typeMap = {
                'manufacturer': '–ü',
                'supplier': '–£',
                'seller': '–¢',
                'buyer': '–ö',
                'contractor': '–°'
            };
            const userType = document.getElementById('userType').value;
            const typeLetter = typeMap[userType] || '–†';
            const now = new Date();
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const year = now.getFullYear().toString().substr(-2);
            return typeLetter + month + year;
        }
        
        // –ú–∞—Å–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function initPhoneMask() {
            const phoneInput = document.getElementById('phone');
            phoneInput.value = '+7 (';
            phoneInput.addEventListener('input', function(e) {
                let value = this.value.replace(/\D/g, '');
                if (value.startsWith('7')) {
                    value = value.substring(1);
                }
                let formatted = '+7 (';
                if (value.length > 0) formatted += value.substring(0, 3);
                if (value.length > 3) formatted += ') ' + value.substring(3, 6);
                if (value.length > 6) formatted += '-' + value.substring(6, 8);
                if (value.length > 8) formatted += '-' + value.substring(8, 10);
                this.value = formatted;
            });
        }
        
        // –ú–∞—Å–∫–∏ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π
        function initInputMasks() {
            document.getElementById('inn').addEventListener('input', function(e) {
                this.value = this.value.replace(/\D/g, '').substring(0, 12);
            });
            document.getElementById('ogrn').addEventListener('input', function(e) {
                this.value = this.value.replace(/\D/g, '').substring(0, 15);
            });
            document.getElementById('kpp').addEventListener('input', function(e) {
                this.value = this.value.replace(/\D/g, '').substring(0, 9);
            });
            document.getElementById('bik').addEventListener('input', function(e) {
                this.value = this.value.replace(/\D/g, '').substring(0, 9);
            });
            document.getElementById('account').addEventListener('input', function(e) {
                this.value = this.value.replace(/\D/g, '').substring(0, 20);
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –∫–æ–º–ø–∞–Ω–∏–∏
        function updateCompanyPlaceholder() {
            const legalForm = document.getElementById('legalForm').value;
            const companyInput = document.getElementById('company');
            const placeholders = {
                'ooo': '–ù–∞–ø—Ä–∏–º–µ—Ä: –û–û–û "–°—Ç—Ä–æ–π–ú–∞—Å—Ç–µ—Ä"',
                'ip': '–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–ü –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á',
                'zao': '–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–ê–û "–¢–µ—Ö–Ω–æ–ü—Ä–æ–º"',
                'ao': '–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–û "–ù–µ—Ñ—Ç–µ–ì–∞–∑"',
                '': '–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ'
            };
            companyInput.placeholder = placeholders[legalForm] || placeholders[''];
        }
        
        function updateCompanyPrefix() {
            const legalForm = document.getElementById('legalForm').value;
            const companyInput = document.getElementById('company');
            updateCompanyPlaceholder();
            
            if (!legalForm) return;
            const prefixes = {
                'ooo': '–û–û–û',
                'zao': '–ó–ê–û', 
                'ao': '–ê–û'
            };
            const prefix = prefixes[legalForm];
            if (!prefix || legalForm === 'ip') return;
            
            const currentValue = companyInput.value.trim();
            if (!currentValue) {
                companyInput.value = prefix + ' ';
                return;
            }
            
            const currentPrefix = currentValue.split(' ')[0].toUpperCase();
            const hasPrefix = Object.values(prefixes).some(p => currentPrefix === p);
            if (!hasPrefix) {
                companyInput.value = prefix + ' ' + currentValue;
            } else if (currentPrefix !== prefix) {
                const withoutPrefix = currentValue.substring(currentPrefix.length).trim();
                companyInput.value = prefix + ' ' + withoutPrefix;
            }
        }
        
        // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π
        function validateField(e) {
            const field = e.target;
            const fieldId = field.id;
            const value = field.value.trim();
            const errorElement = document.getElementById(fieldId + 'Error');
            const successElement = document.getElementById(fieldId + 'Success');
            
            if (errorElement) errorElement.style.display = 'none';
            if (successElement) successElement.style.display = 'none';
            field.classList.remove('error', 'success');
            
            if (field.required && !value) {
                if (errorElement) errorElement.style.display = 'block';
                field.classList.add('error');
                return false;
            }
            
            let isValid = true;
            if (fieldId === 'inn') {
                const digits = value.replace(/\D/g, '');
                isValid = /^\d{10}$|^\d{12}$/.test(digits);
            } else if (fieldId === 'ogrn') {
                const digits = value.replace(/\D/g, '');
                isValid = /^\d{13}$|^\d{15}$/.test(digits);
            } else if (fieldId === 'kpp' && value) {
                const digits = value.replace(/\D/g, '');
                isValid = /^\d{9}$/.test(digits);
            } else if (fieldId === 'phone') {
                const digits = value.replace(/\D/g, '');
                isValid = digits.length >= 10;
            } else if (fieldId === 'email' && value) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                isValid = emailRegex.test(value);
            } else if (fieldId === 'bik') {
                const digits = value.replace(/\D/g, '');
                isValid = /^\d{9}$/.test(digits);
            } else if (fieldId === 'account') {
                const digits = value.replace(/\D/g, '');
                isValid = /^\d{20}$/.test(digits);
            }
            
            if (isValid && successElement && value) {
                successElement.style.display = 'block';
                field.classList.add('success');
            } else if (!isValid && value) {
                if (errorElement) errorElement.style.display = 'block';
                field.classList.add('error');
            }
            
            return isValid;
        }
        
        function setupRealTimeValidation() {
            document.querySelectorAll('input, select, textarea').forEach(field => {
                if (!field.type || field.type !== 'checkbox') {
                    field.addEventListener('blur', validateField);
                    field.addEventListener('input', validateField);
                }
            });
        }
        
        // –í–∞–ª–∏–¥–∞—Ü–∏—è —à–∞–≥–æ–≤
        function validateStep(step) {
            let isValid = true;
            document.querySelectorAll('.error-message').forEach(el => {
                el.style.display = 'none';
            });
            document.querySelectorAll('.error').forEach(el => {
                el.classList.remove('error');
            });
            
            if (step === 1) {
                const legalForm = document.getElementById('legalForm').value;
                const company = document.getElementById('company').value.trim();
                const userType = document.getElementById('userType').value;
                
                if (!legalForm) {
                    document.getElementById('legalFormError').style.display = 'block';
                    document.getElementById('legalForm').classList.add('error');
                    isValid = false;
                }
                if (!company) {
                    document.getElementById('companyError').style.display = 'block';
                    document.getElementById('company').classList.add('error');
                    isValid = false;
                }
                if (!userType) {
                    document.getElementById('userTypeError').style.display = 'block';
                    document.getElementById('userType').classList.add('error');
                    isValid = false;
                }
            }
            
            if (step === 2) {
                const inn = document.getElementById('inn').value.replace(/\D/g, '');
                const ogrn = document.getElementById('ogrn').value.replace(/\D/g, '');
                const address = document.getElementById('address').value.trim();
                const kpp = document.getElementById('kpp').value.replace(/\D/g, '');
                
                if (!/^\d{10}$|^\d{12}$/.test(inn)) {
                    document.getElementById('innError').style.display = 'block';
                    document.getElementById('inn').classList.add('error');
                    isValid = false;
                }
                if (!/^\d{13}$|^\d{15}$/.test(ogrn)) {
                    document.getElementById('ogrnError').style.display = 'block';
                    document.getElementById('ogrn').classList.add('error');
                    isValid = false;
                }
                if (!address) {
                    document.getElementById('addressError').style.display = 'block';
                    document.getElementById('address').classList.add('error');
                    isValid = false;
                }
                if (kpp && !/^\d{9}$/.test(kpp)) {
                    document.getElementById('kppError').style.display = 'block';
                    document.getElementById('kpp').classList.add('error');
                    isValid = false;
                }
            }
            
            if (step === 3) {
                const contactName = document.getElementById('contactName').value.trim();
                const position = document.getElementById('position').value.trim();
                const phone = document.getElementById('phone').value.replace(/\D/g, '');
                const email = document.getElementById('email').value.trim();
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                
                if (!contactName) {
                    document.getElementById('contactNameError').style.display = 'block';
                    document.getElementById('contactName').classList.add('error');
                    isValid = false;
                }
                if (!position) {
                    document.getElementById('positionError').style.display = 'block';
                    document.getElementById('position').classList.add('error');
                    isValid = false;
                }
                if (phone.length < 10) {
                    document.getElementById('phoneError').style.display = 'block';
                    document.getElementById('phone').classList.add('error');
                    isValid = false;
                }
                if (!emailRegex.test(email)) {
                    document.getElementById('emailError').style.display = 'block';
                    document.getElementById('email').classList.add('error');
                    isValid = false;
                }
            }
            
            if (step === 4) {
                const industrySector = document.getElementById('industrySector').value;
                const annualTurnover = document.getElementById('annualTurnover').value;
                const employees = document.getElementById('employees').value;
                
                if (!industrySector) {
                    document.getElementById('industrySectorError').style.display = 'block';
                    document.getElementById('industrySector').classList.add('error');
                    isValid = false;
                }
                if (!annualTurnover) {
                    document.getElementById('annualTurnoverError').style.display = 'block';
                    document.getElementById('annualTurnover').classList.add('error');
                    isValid = false;
                }
                if (!employees) {
                    document.getElementById('employeesError').style.display = 'block';
                    document.getElementById('employees').classList.add('error');
                    isValid = false;
                }
            }
            
            if (step === 5) {
                const bank = document.getElementById('bank').value.trim();
                const bik = document.getElementById('bik').value.replace(/\D/g, '');
                const account = document.getElementById('account').value.replace(/\D/g, '');
                const agree1 = document.getElementById('agree1').checked;
                const agree2 = document.getElementById('agree2').checked;
                
                if (!bank) {
                    document.getElementById('bankError').style.display = 'block';
                    document.getElementById('bank').classList.add('error');
                    isValid = false;
                }
                if (!/^\d{9}$/.test(bik)) {
                    document.getElementById('bikError').style.display = 'block';
                    document.getElementById('bik').classList.add('error');
                    isValid = false;
                }
                if (!/^\d{20}$/.test(account)) {
                    document.getElementById('accountError').style.display = 'block';
                    document.getElementById('account').classList.add('error');
                    isValid = false;
                }
                if (!agree1 || !agree2) {
                    document.getElementById('agreeError').style.display = 'block';
                    isValid = false;
                }
            }
            
            return isValid;
        }
        
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function updateProgress() {
            document.querySelectorAll('.progress-step').forEach((step, index) => {
                step.classList.toggle('active', index + 1 <= currentStep);
            });
            document.querySelectorAll('.step').forEach((step, index) => {
                step.classList.toggle('active', index + 1 === currentStep);
            });
            document.getElementById('prevBtn').style.display = currentStep > 1 ? 'inline-block' : 'none';
            document.getElementById('nextBtn').style.display = currentStep < totalSteps ? 'inline-block' : 'none';
            document.getElementById('submitBtn').style.display = currentStep === totalSteps ? 'inline-block' : 'none';
        }
        
        function nextStep() {
            if (validateStep(currentStep)) {
                currentStep++;
                updateProgress();
                window.scrollTo(0, 0);
            }
        }
        
        function prevStep() {
            currentStep--;
            updateProgress();
            window.scrollTo(0, 0);
        }
        
        // =================== –§–£–ù–ö–¶–ò–Ø –û–¢–ü–†–ê–í–ö–ò –§–û–†–ú–´ ===================
        async function submitForm() {
            if (!validateStep(currentStep)) {
                alert('–ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π');
                return;
            }
            
            // –ì–ï–ù–ï–†–ê–¶–ò–Ø –£–ù–ò–ö–ê–õ–¨–ù–û–ì–û ID
            const registrationID = generateRegistrationID();
            
            // –°–æ–±–∏—Ä–∞–µ–º –æ–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ
            const formData = {
                registration_id: registrationID,
                legal_form: document.getElementById('legalForm').value,
                company_name: document.getElementById('company').value.trim(),
                user_type: document.getElementById('userType').value,
                inn: document.getElementById('inn').value.replace(/\D/g, ''),
                ogrn: document.getElementById('ogrn').value.replace(/\D/g, ''),
                kpp: document.getElementById('kpp').value.replace(/\D/g, '') || null,
                legal_address: document.getElementById('address').value.trim(),
                contact_name: document.getElementById('contactName').value.trim(),
                position: document.getElementById('position').value.trim(),
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value.trim(),
                industry_sector: document.getElementById('industrySector').value,
                annual_turnover: document.getElementById('annualTurnover').value,
                employees_count: document.getElementById('employees').value,
                bank_name: document.getElementById('bank').value.trim(),
                bik: document.getElementById('bik').value.replace(/\D/g, ''),
                payment_account: document.getElementById('account').value.replace(/\D/g, ''),
                timestamp: new Date().toISOString()
            };
            
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userType = document.getElementById('userType').value;
            formData.profile_data = {};
            
            if (userType === 'manufacturer') {
                formData.profile_data.production_type = document.getElementById('productionType').value;
            } else if (userType === 'supplier') {
                formData.profile_data.service_category = document.getElementById('serviceCategory').value;
            } else if (userType === 'seller') {
                formData.profile_data.trade_type = document.getElementById('tradeType').value;
            } else if (userType === 'buyer') {
                formData.profile_data.purchase_type = document.getElementById('purchaseType').value;
            } else if (userType === 'contractor') {
                formData.profile_data.construction_type = document.getElementById('constructionType').value;
            }
            
            const resultDiv = document.getElementById('result');
            resultDiv.className = '';
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div style="text-align: center;">üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>';
            
            try {
                // ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è –í–ê–® URL GOOGLE APPS SCRIPT ‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è
                const GAS_URL = 'https://script.google.com/macros/s/AKfycbwXv3ROHCrfCz3aLBKfIWEd6VtHxIskVbKa_cvStR-fjKrUHEqnfvbDQns4w_CwPmBj/exec';
                
                const response = await fetch(GAS_URL, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(formData)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    resultDiv.className = 'result-success';
                    resultDiv.innerHTML = `
                        <div style="text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 10px;">‚úÖ</div>
                            <strong>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</strong><br>
                            
                            <div style="background: linear-gradient(135deg, #f0f8ff 0%, #e6f7ff 100%); 
                                        padding: 20px; border-radius: 10px; margin: 20px 0;
                                        border: 2px solid #3f51b5;">
                                <div style="font-size: 14px; color: #666; margin-bottom: 5px;">
                                    –í–∞—à —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä
                                </div>
                                <div style="font-size: 42px; font-weight: bold; color: #3f51b5; 
                                           font-family: 'Courier New', monospace; letter-spacing: 2px;">
                                    ${registrationID}
                                </div>
                                <div style="margin-top: 10px; font-size: 12px; color: #888;">
                                    <strong>–°—Ç–∞—Ç—É—Å:</strong> –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ
                                </div>
                            </div>
                            
                            <p style="margin: 15px 0;">
                                <strong>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à email!</strong><br>
                                –ù–∞ –∞–¥—Ä–µ—Å ${formData.email} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.
                            </p>
                            
                            <p>–°–∫–æ—Ä–æ —Å –≤–∞–º–∏ —Å–≤—è–∂–µ—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞.</p>
                        </div>
                    `;
                    
                    // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
                    document.getElementById('prevBtn').style.display = 'none';
                    document.getElementById('nextBtn').style.display = 'none';
                    document.getElementById('submitBtn').style.display = 'none';
                    
                } else {
                    throw new Error(result.error || '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞');
                }
                
            } catch (error) {
                resultDiv.className = 'result-error';
                resultDiv.innerHTML = `
                    <strong>‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö:</strong> ${error.message}<br><br>
                    <button onclick="location.reload()" style="background: #ff9800; padding: 10px 20px;">
                        ‚Üª –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
                    </button>
                `;
            }
        }
    </script>
</body>
</html>